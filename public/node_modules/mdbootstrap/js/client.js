$(document).ready(function () {
       AOS.init();
 var table = $('.DataFromDB').DataTable({
        dom: 'lBfrtip',
             buttons: [
            {
                extend: 'print',
                exportOptions: {
                     columns: ':visible',
                    stripHtml:false
                }
            },
             {
                 extend: 'csv',
                 exportOptions: {
                     columns: ':visible',
                       stripHtml:false
                 }
            },{
                 extend: 'excel',
                 exportOptions: {
                     columns: ':visible',
                       stripHtml:false
                 }
            },
             {
                 extend: 'pdf',
                 exportOptions: {
                     columns: ':visible',
                       stripHtml:false
                 }
                 },
             {
                 extend: 'copy',
                 exportOptions: {
                     columns: ':visible',
                       stripHtml:false
                 }
            },
             'colvis'
             ]
    });
    $('.dt-button').addClass("btn btn-elegant waves-effect btn-sm"); // add styling

    $('#myClassmates').click(function () {
        let myClassmatesTab = document.getElementById('myClassmatesCol');
        let visible = myClassmatesTab.classList.contains('visibleClassTab');
        if (visible) {
            myClassmatesTab.classList.remove('visibleClassTab');
        } else {
        myClassmatesTab.classList.add('visibleClassTab');
        }
    });
    setTimeout(function () {
        $('.loading').detach();
        $('.content').removeClass('d-none');
        
    }, 5000);
    setInterval(function () {
        $('#announcement').load('./data/announcements.php');
        $('#subjectsTaken').load('./data/subjectsTaken.php');
        $('#myClassmatesCol').load('./data/myClassmates.php');        
    },5000);



    $('#user').blur(function (e) {
        let username = e.target.value;
         $.ajax({
                url: `img.php`,
                type: 'POST',
                data: {
                    'username': username
                },
                success: (response) => {
                    $('#avatar').html(response);
                }
            });
    });
    
    $('#email').blur(function (e) {
        let email = e.target.value;
         $.ajax({
                url: `recover.php`,
                type: 'POST',
                data: {
                    'email': email
                },
                success: (response) => {
                    $('.message').html(response);
                }
            });
    });
});